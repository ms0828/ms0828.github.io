---
title: "(OpenGL) Shading Language(GLSL)"
excerpt: ""

categories:
  - Computer Graphics
tags:
  - [tag1, tag2]

permalink: /categories/computer_graphics/shading_language/

toc: true
toc_sticky: true

date: 2024-09-30
last_modified_at: 2024-09-30
---

## ğŸ¦¥ Shading Language(GLSL)
ê·¸ë˜í”½ íŒŒì´í”„ë¼ì¸ì˜ ë‹¤ì–‘í•œ ë‹¨ê³„ì—ì„œ GPUê°€ ì‚¬ìš©í•˜ëŠ” ì…°ì´ë”(Shader)ë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ ê³ ê¸‰ ì–¸ì–´ë¡œ, GLSLì€ C ì–¸ì–´ì™€ ìœ ì‚¬í•œ ë¬¸ë²•ì„ ì‚¬ìš©í•œë‹¤.

- cì–¸ì–´ì™€ ìœ ì‚¬í•˜ì§€ë§Œ Pointer, ì¬ê·€í•¨ìˆ˜, ë™ì í• ë‹¹ì´ ì œì™¸
- ìˆ˜í•™ ì—°ì‚° ë“±ì˜ ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì´ ë§ì´ í¬í•¨
- input, output qualifiers ì‚¬ìš©

<br><br>


## Data Type
**Scalar type**
- float
- int
- bool
<br>

**Vector**
- vec2,3,4...
- ivec2,3,4...
- bvec2,3,4...

**Matrix**
- mat2,3,4...

**Texture sampling**
- sampler1D,2D,3D...
- samplerCube

<br><br>

## operator
cì˜ ê¸°ë³¸ì ì¸ operatorë¥¼ ì§€ì›í•˜ë©°, ê·¸ ë°–ì—ë„ GLSLì—ì„œ ì œê³µí•˜ëŠ” Matrixì™€ Vector Type ê°„ì˜ ìœ ì—°í•œ Operatorë¥¼ ì§€ì›í•œë‹¤.

<br><br>


## Vector
### components
vectorì˜ ìš”ì†Œë¥¼ []ì™€ xyzw, rgba, stpqë¡œ ì›í•˜ëŠ”ëŒ€ë¡œ ì ‘ê·¼ ê°€ëŠ¥<br>

> vec3 vë¥¼ v[1], v.x, v.y, v.r, v.g, v.t ë“±ìœ¼ë¡œ ë‹¤ì–‘í•˜ê²Œ ì ‘ê·¼ ê°€ëŠ¥

<br>

### swizzling
Vectorì˜ ìš”ì†Œì˜ ê° ìˆœì„œë¥¼ ë‚˜ì—´í•˜ì—¬ í•œ ë²ˆì— ëŒ€ì…, í• ë‹¹ ê°€ëŠ¥
a.xy = b.yx;
> aì˜ x, yì— bì˜ y, x ê°’ì„ ëŒ€ì…

<br>


### Constructors
C++ styleì˜ constructors ì‚¬ìš©<br>

```
vec3 a = vec3(1.0, 2.0, 3.0);
vec3 b = vec3(1.0); // [1.0, 1.0, 1.0]
vec3 c = vec3(vec2(1.0, 2.0), 3.0);		// n+1ì°¨ì› vectorë¥¼ nì°¨ì› vectorë¥¼ ì´ìš©í•˜ì—¬ í¸ë¦¬í•˜ê²Œ ì´ˆê¸°í™”
```


#### Vector ì˜ˆì œ
```
vec4 c = vec4(0.5, 1.0, 0.8, 1.0);

vec3 rgb = c.rgb;  // [0.5, 1.0, 0.8]

vec3 bgr = c.bgr;  // [0.8, 1.0, 0.5]

vec3 rrr = c.rrr;  // [0.5, 0.5, 0.5]

c.a = 0.5;         // [0.5, 1.0, 0.8, 0.5]
c.rb = 0.0;        // [0.0, 1.0, 0.0, 0.5]

float g = rgb[1];
```

<br><br>


## Matrices
ì •ë°©í–‰ë ¬(Square) : mat2,3,4...<br>
ë¹„ì •ë°©í–‰ë ¬(Rectangular) : mat mxn (m columns, n rows) ëª¨ë‘ ì§€ì›
<br>

> GLSLì—ì„œ í–‰ë ¬ì€ Column majorë¥¼ ì‚¬ìš© (ì„¸ë¡œë¥¼ ê¸°ì¤€) <br>
> 	// m[0][0] m[1][0] m[2][0] <br>
		// m[0][1] m[1][1] m[2][1] <br>
		// m[0][2] m[1][2] m[2][2] <br>


### ì˜ˆì œ
```
mat3 i = mat3(1.0); // 3x3 identity matrix

// Column major!
mat2 m = mat2(1.0, 2.0,  // [1.0 3.0]
							3.0, 4.0); // [2.0 4.0]

// ì•„ë˜ì²˜ëŸ¼ ìœ ì—°í•˜ê²Œ ì›ì†Œì— ì ‘ê·¼ ê°€ëŠ¥
vec2 a = m[0];
float b = m[1].y;
vec2 c = m[0].xy;

```


<br><br>

## Qualifier
![glsl1](/assets\images\posts_img\graphics\glsl1.png)


### in, Out
ì…°ì´ë”ì˜ ì¸ìì™€ ë°˜í™˜ ê°’ì€ in, outìœ¼ë¡œ êµ¬ì„±ë˜ëŠ” Qualifier ì‚¬ìš©


### uniform
ì…°ì´ë” í”„ë¡œê·¸ë¨ì— ì „ë‹¬ë˜ëŠ” ê°’ ì¤‘ì—ì„œ ëª¨ë“  ì •ì ì´ë‚˜ í”„ë˜ê·¸ë¨¼íŠ¸ì—ì„œ ë™ì¼í•˜ê²Œ ìœ ì§€ë˜ëŠ” ê°’ì´ë‹¤.<br>ì˜ˆë¥¼ë“¤ì–´ ë³€í™˜ í–‰ë ¬, ì¹´ë©”ë¼ ìœ„ì¹˜, ì¡°ëª… ì •ë³´ ë“±ì´ Uniform ë³€ìˆ˜ë¡œ ì „ë‹¬ëœë‹¤.
<br>

![glsl2](/assets\images\posts_img\graphics\glsl2.png)

<br><br>


### Built-in Variables
GLSLì—ì„œ ì‚¬ìš©ë˜ëŠ” Built-in Variables(ë‚´ì¥ ë³€ìˆ˜)

1. gl_Position
- Vertex Shaderì—ì„œ ì‚¬ìš©í•˜ëŠ” ë‚´ì¥ ë³€ìˆ˜
- ë³€í™˜ëœ ì •ì ì˜ ìµœì¢… ìœ„ì¹˜ë¥¼ ê²°ì •í•˜ëŠ”ë° ì‚¬ìš©ë˜ë©°, ì´ ê°’ì€ íˆ¬ì˜ ë³€í™˜ê³¼ ë·° ë³€í™˜ì„ ê±°ì¹œ í›„, í™”ë©´ì˜ íŠ¹ì • ì¢Œí‘œë¡œ ë³€í™˜


2. gl_FragColor (Legacy)
- Fragment Shaderì—ì„œ ì‚¬ìš©í•˜ëŠ” ë‚´ì¥ ë³€ìˆ˜
- í•´ë‹¹ í”½ì…€ì— ì¶œë ¥í•  ìƒ‰ìƒì„ ì •ì˜
> **ìµœì‹  GLSLì—ì„œëŠ” out Qualifierë¥¼ ì‚¬ìš©í•˜ì—¬ ì¶œë ¥ì„ ì²˜ë¦¬ (ì•„ë˜ ì˜ˆì‹œ ì°¸ê³ )**

```
#version 330

in vec4 color;
out vec4 FragColor;

void main() {
		FragColor = color;
}

```

<br><br>


## GLUT
GLUTëŠ” OpenGL ì‘ìš© í”„ë¡œê·¸ë¨ì„ ìœ„í•œ ì°½ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ, ì´ë²¤íŠ¸ ì¤‘ì‹¬ ë°©ì‹ì˜ í”„ë¡œê·¸ë¨ êµ¬ì¡°ë¥¼ ì§€ì›í•œë‹¤.<br>
> ì‹¤ìŠµ ì½”ë“œì˜ mainì„ ë³´ë©´ glutMainLoop()ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br> ì´ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´ í”„ë¡œê·¸ë¨ì´ ì´ë²¤íŠ¸ ë£¨í”„ì— ì§„ì…í•˜ê²Œ ë˜ê³ , ë°œìƒí•˜ëŠ” ê°ì¢… ì´ë²¤íŠ¸ì— ë”°ë¼ ë¯¸ë¦¬ ë“±ë¡ëœ ì½œë°± í•¨ìˆ˜ë“¤ì´ í˜¸ì¶œë˜ì–´ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•œë‹¤.
<br>

## Interaction Callbacks
![glut](/assets\images\posts_img\graphics\glut.png)

ìœ„ ë‹¤ì´ì–´ê·¸ë¨ì€ GLUT í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ íë¦„ì„ ì„¤ëª…í•˜ëŠ” ì½œë°±(callback) ë©”ì»¤ë‹ˆì¦˜ì„ ë³´ì—¬ì¤€ë‹¤.

<br>

1. **Idle()** : ì´ë²¤íŠ¸ê°€ ì—†ì„ ë•Œ í˜¸ì¶œ
2. **Reshape()** : ì°½ì˜ í¬ê¸°ê°€ ë³€ê²½ë  ë•Œ í˜¸ì¶œ
3. **Motion()** : ë§ˆìš°ìŠ¤ê°€ ì´ë™í•  ë•Œ í˜¸ì¶œ
4. **Mouse()** : ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½œë°±
5. **Menu()** : GLUTì—ì„œ ì œê³µí•˜ëŠ” ë©”ë‰´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ë•Œ ë©”ë‰´ í•­ëª© ì„ íƒì— ë”°ë¼ í˜¸ì¶œ
6. **Keyboard()** : í‚¤ë³´ë“œ ì…ë ¥ì´ ìˆì„ ë•Œ í˜¸ì¶œ
7. **Display()** : ë©´ì„ ë‹¤ì‹œ ê·¸ë¦´ ë•Œ í˜¸ì¶œ

<br>

ìœ„ì™€ ê°™ì€ ì½œë°± í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ "glut(event)func" ìœ¼ë¡œ ë“±ë¡í•œë‹¤.
```
int main(int argc, char** argv)
{
	glutInit(&argc, argv);

	//... ì¤‘ê°„ ì´ˆê¸°í™” ìƒëµ


	glutIdleFunc(idle);   // <--
	glutMainLoop();

	return 0;
}
```
